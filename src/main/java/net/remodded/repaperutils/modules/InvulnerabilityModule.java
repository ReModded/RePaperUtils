package net.remodded.repaperutils.modules;

import net.remodded.repaperutils.RePaperUtils;
import net.remodded.repaperutils.utils.PluginModule;
import org.bukkit.entity.Player;
import org.bukkit.event.EventHandler;
import org.bukkit.event.player.PlayerJoinEvent;

public class InvulnerabilityModule extends PluginModule<RePaperUtils> {

    public InvulnerabilityModule(RePaperUtils plugin) {
        super("InvulnerabilityFix", plugin);
    }

    public boolean init() {
        return true;
    }

    @Override
    protected void deinit(boolean doReload) {}

    @EventHandler
    public void onJoin(PlayerJoinEvent ev) {
        Player player = ev.getPlayer();

        if(!player.isInvulnerable()) return;

        player.setInvulnerable(false);
        RePaperUtils.log(player.displayName() + " has had a Invulnerability flag set to true.");
    }
}
